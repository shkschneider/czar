/*
 * Test comprehensive compiler extension support
 * Tests: deprecated, warn_unused_result, unused, pure
 */

#include <stdio.h>

/* Test 1: deprecated functions */
#deprecated
void old_api(void) {
    printf("Old API\n");
}

#deprecated
int legacy_function(void) {
    return 1;
}

/* Test 2: warn_unused_result (automatic for non-void functions) */
int get_status(void) {
    return 0;
}

int calculate(void) {
    return 42;
}

/* Test 3: void functions don't get warn_unused_result or pure */
void log_message(void) {
    printf("Logging...\n");
}

/* Test 4: pure attribute (functions with no parameters) */
int get_constant(void) {
    return 100;
}

/* Test 5: functions with parameters don't get pure */
int add(int a, int b) {
    return a + b;
}

/* Test 6: unused variable suppression with _ */
int main(void) {
    /* Using _ to suppress unused variable warnings */
    int _ = get_status();
    
    /* Normal usage */
    int result = calculate();
    printf("Result: %d\n", result);
    
    int constant = get_constant();
    printf("Constant: %d\n", constant);
    
    int sum = add(a = result, b = constant);
    printf("Sum: %d\n", sum);
    
    /* void function - no warning */
    log_message();
    
    return 0;
}
