#include <stdint.h>
#include <stddef.h>
#include <stdio.h>

/* Test type aliases */
void test_type_aliases(void) {
    u8 u8_val = 255;
    u16 u16_val = 65535;
    u32 u32_val = 4294967295U;
    u64 u64_val = 18446744073709551615ULL;

    i8 i8_val = I8_MIN;
    i16 i16_val = I16_MIN;
    i32 i32_val = I32_MIN;
    i64 i64_val = I64_MIN;

    f32 f32_val = 3.14f;
    f64 f64_val = 3.14159265358979323846;

    usize usize_val = 1024;
    isize isize_val = -1024;

    printf("Type aliases test: OK\n");
    (void)u8_val; (void)u16_val; (void)u32_val; (void)u64_val;
    (void)i8_val; (void)i16_val; (void)i32_val; (void)i64_val;
    (void)f32_val; (void)f64_val;
    (void)usize_val; (void)isize_val;
}

/* Test numeric limits */
void test_numeric_limits(void) {
    /* Unsigned limits */
    u8 u8_min = U8_MIN;
    u8 u8_max = U8_MAX;
    u16 u16_min = U16_MIN;
    u16 u16_max = U16_MAX;
    u32 u32_min = U32_MIN;
    u32 u32_max = U32_MAX;
    u64 u64_min = U64_MIN;
    u64 u64_max = U64_MAX;

    /* Signed limits */
    i8 i8_min = I8_MIN;
    i8 i8_max = I8_MAX;
    i16 i16_min = I16_MIN;
    i16 i16_max = I16_MAX;
    i32 i32_min = I32_MIN;
    i32 i32_max = I32_MAX;
    i64 i64_min = I64_MIN;
    i64 i64_max = I64_MAX;

    /* Size limits */
    usize usize_min = USIZE_MIN;
    usize usize_max = USIZE_MAX;
    isize isize_min = ISIZE_MIN;
    isize isize_max = ISIZE_MAX;

    printf("Numeric limits test: OK\n");
    (void)u8_min; (void)u8_max;
    (void)u16_min; (void)u16_max;
    (void)u32_min; (void)u32_max;
    (void)u64_min; (void)u64_max;
    (void)i8_min; (void)i8_max;
    (void)i16_min; (void)i16_max;
    (void)i32_min; (void)i32_max;
    (void)i64_min; (void)i64_max;
    (void)usize_min; (void)usize_max;
    (void)isize_min; (void)isize_max;
}

/* Test runtime macros */
void test_runtime_macros(void) {
    int line = __LINE__;
    printf("Runtime macros test - file: %s, line: %d, func: %s\n", __FILE__, line, __func__);

    printf("Runtime macros test: OK\n");
    printf("  __FILE__: %s\n", __FILE__);
    printf("  __LINE__: %d\n", line);
    printf("  __func__: %s\n", __func__);
    (void)line;
}

/* Test cz_assert - only tests passing case */
void test_ASSERT(void) {
    cz_assert(1 == 1);
    cz_assert(2 + 2 == 4);
    cz_assert("test" != NULL);
    printf("cz_assert test: OK\n");
}

/* Note: We don't test TODO, FIXME, or UNREACHABLE because they abort */
/* These would be tested in separate test files that expect failure */

int main(void) {
    printf("=== CZar v0.3 Runtime Tests ===\n\n");

    test_type_aliases();
    test_numeric_limits();
    test_runtime_macros();
    test_ASSERT();

    printf("\nAll tests passed!\n");
    return 0;
}
