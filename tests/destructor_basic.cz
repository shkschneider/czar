// Test basic destructor functionality with heap allocation
struct Counter {
    i32 value
}

fn Counter:new() -> void {
    self.value = 100
}

fn Counter:free() -> void {
    // In a real program, this would do cleanup
    // For testing, we just verify the constructor set value
}

fn main() -> i32 {
    // Heap allocation - should call constructor (sets value to 100)
    Counter* c = new Counter {}
    // Destructor will be called at scope exit
    return c.value - 100
}

