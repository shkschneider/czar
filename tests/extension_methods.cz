// Test extension methods (old style: fn with self parameter)
struct Vec2 {
    i32 x
    i32 y
}

fn Vec2:length() i32 {
    return self.x * self.x + self.y * self.y
}

fn Vec2:add(i32 dx, i32 dy) void {
    self.x = self.x + dx
    self.y = self.y + dy
}

fn main() i32 {
    mut Vec2 v = Vec2 { x: 3, y: 4 }

    // Call as method with auto-addressing
    i32 l = v:length()

    // Call method with parameters
    v:add(1, 2)

    return v.x + v.y - 10
}
