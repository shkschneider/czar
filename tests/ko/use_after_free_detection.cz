// Test that use-after-free is detected at compile time
struct Data {
    i32 value
}

fn main() i32 {
    *Data p = new Data { value: 42 }
    free p
    
    // This should fail: using pointer after it has been freed
    i32 x = p.value
    
    return x
}
