// Test method syntax (Type.method(self, ...))
struct Vec2 {
    x: i32
    y: i32
}

fn Vec2.length(self: *Vec2) -> i32 {
    return self.x * self.x + self.y * self.y
}

fn Vec2.add(self: *Vec2, dx: i32, dy: i32) -> void {
    self.x = self.x + dx
    self.y = self.y + dy
}

fn main() -> i32 {
    var v: Vec2 = Vec2 { x: 3, y: 4 }
    
    // Call as method with auto-addressing
    val l: i32 = v.length()
    
    // Call method with parameters
    v.add(1, 2)
    
    return v.x + v.y  // should return 3+1 + 4+2 = 10
}
