// Test nested scopes with heap allocation cleanup
struct Data {
    value: i32
}

fn main() -> i32 {
    mut x: i32 = 10
    
    if x > 5 {
        // Allocate in nested scope
        let d: *Data = new Data { value: 20 }
        x = d.value
        // d is freed when this scope exits
    }
    
    // x should be 20 here
    return x
}
