// Test bitwise operator precedence and interaction with other operators
fn main() i32 {
    // Test that bitwise operators have correct precedence relative to arithmetic
    // Arithmetic (+, -) should have higher precedence than shift (<<, >>)
    i32 t1 = 1 << 2 + 1      // Should be 1 << (2 + 1) = 1 << 3 = 8
    
    // Shift should have higher precedence than bitwise and (&)
    i32 t2 = 8 & 4 << 1      // Should be 8 & (4 << 1) = 8 & 8 = 8
    
    // Bitwise and should have higher precedence than bitwise xor (^)
    i32 t3 = 12 ^ 7 & 3      // Should be 12 ^ (7 & 3) = 12 ^ 3 = 15
    
    // Bitwise xor should have higher precedence than bitwise or (|)
    i32 t4 = 8 | 4 ^ 12      // Should be 8 | (4 ^ 12) = 8 | 8 = 8
    
    // Bitwise or should have higher precedence than logical and
    bool t5 = true and false or true  // Should be true && (false || true) = true && true = true
    
    // Test that unary ~ has higher precedence than binary operators
    i32 t6 = ~3 | 8          // Should be (~3) | 8 = -4 | 8 = -4
    
    // Test multiple operations in sequence
    i32 t7 = 15 & 7 | 8      // Should be (15 & 7) | 8 = 7 | 8 = 15
    i32 t8 = 15 | 7 & 8      // Should be 15 | (7 & 8) = 15 | 0 = 15
    
    // Verify results: 8 + 8 + 15 + 8 + (t5 ? 1 : 0) + (-4) + 15 + 15 = 66
    i32 sum = t1 + t2 + t3 + t4 + (t5 and 1 or 0) + t6 + t7 + t8
    
    return sum - 66
}
