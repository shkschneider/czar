// Test clone functionality

struct Point {
    i32 x
    i32 y
}

fn main() i32 {
    // Test clone without type parameter - clone returns pointer
    mut Point p1 = Point { x: 10, y: 20 }
    Point? p2 = clone p1

    // Modify original
    p1.x = 100
    p1.y = 200

    // Clone should still have original values
    i32 cloned_x = p2.x  // should be 10
    i32 cloned_y = p2.y  // should be 20

    // Test clone with type parameter (casting) - returns pointer
    i32 num = 42
    i64? num_clone = clone<i64> num

    i32 result = <i32> (*num_clone) !!  // should be 42

    if cloned_x == 10 {
        if cloned_y == 20 {
            if result == 42 {
                return 0  // success
            }
        }
    }

    return 42
}
