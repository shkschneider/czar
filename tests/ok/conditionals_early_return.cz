// Test conditionals with early returns and multiple branches

fn get_discount(i32 amount, bool is_member, bool has_coupon) i32 {
    // Early return for invalid amount
    if amount <= 0 {
        return 0
    }
    
    // Base discount
    mut i32 discount = 0
    
    // Apply member discount
    if is_member {
        if amount > 1000 {
            discount = discount + 20
        } elseif amount > 500 {
            discount = discount + 15
        } else {
            discount = discount + 10
        }
    }
    
    // Apply coupon discount
    if has_coupon {
        discount = discount + 5
    }
    
    // Maximum discount is 30%
    if discount > 30 {
        return 30
    }
    
    return discount
}

fn main() i32 {
    // Test invalid amount
    if get_discount(0, true, true) != 0 {
        return 1
    }
    
    // Test non-member without coupon
    if get_discount(100, false, false) != 0 {
        return 2
    }
    
    // Test member with small purchase, no coupon
    if get_discount(100, true, false) != 10 {
        return 3
    }
    
    // Test member with medium purchase and coupon
    if get_discount(600, true, true) != 20 {  // 15 + 5
        return 4
    }
    
    // Test member with large purchase and coupon
    if get_discount(1500, true, true) != 25 {  // 20 + 5
        return 5
    }
    
    // Test maximum discount cap
    if get_discount(2000, true, true) != 25 {
        return 6
    }
    
    return 0
}
