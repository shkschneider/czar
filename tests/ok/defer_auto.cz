// Test auto-defer shorthand syntax
struct Person {
    i32 age
}

fn main() i32 {
    // Auto-defer with new heap allocation
    Person? p1 = new Person { age: 25 } #defer
    
    // Multiple auto-defers
    Person? p2 = new Person { age: 30 } #defer
    Person? p3 = new Person { age: 35 } #defer
    
    // Use the variables
    i32 total = p1.age + p2.age + p3.age
    
    // All three will be freed at scope exit via auto-defer
    return total - 90
}
