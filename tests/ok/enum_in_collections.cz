// Test enum in arrays and collections

enum Direction {
    NORTH,
    SOUTH,
    EAST,
    WEST
}

fn opposite_direction(Direction d) Direction {
    if d == Direction.NORTH {
        return Direction.SOUTH
    }
    if d == Direction.SOUTH {
        return Direction.NORTH
    }
    if d == Direction.EAST {
        return Direction.WEST
    }
    return Direction.EAST  // WEST -> EAST
}

fn main() i32 {
    // Array of enums
    Direction[4] directions = [
        Direction.NORTH,
        Direction.SOUTH,
        Direction.EAST,
        Direction.WEST
    ]
    
    // Test iteration
    mut i32 count = 0
    for idx, dir in directions {
        count = count + 1
    }
    
    if count != 4 {
        return 1
    }
    
    // Test opposite directions
    Direction north = Direction.NORTH
    Direction south = opposite_direction(north)
    
    if south != Direction.SOUTH {
        return 2
    }
    
    return 0
}
