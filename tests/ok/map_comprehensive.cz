// Test map with comprehensive features using new syntax
fn main() i32 {
    // Create a map with bool values
    map<i32:bool> flags = new map {
        1: true,
        2: false,
        3: true
    }
    
    // Access map properties
    i32 flag_count = flags.size
    
    // Verify the size
    if flag_count != 3 {
        free flags
        return 2
    }
    
    // Check values individually
    bool first = flags.values[0]
    bool second = flags.values[1]
    bool third = flags.values[2]
    
    if first != true {
        free flags
        return 3
    }
    
    if second != false {
        free flags
        return 4
    }
    
    if third != true {
        free flags
        return 5
    }
    
    free flags
    return 0  // Success
}
