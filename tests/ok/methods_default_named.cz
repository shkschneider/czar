// Test named and default parameters with methods
struct Vec2 {
    i32 x
    i32 y
}

// Method with default parameters
fn Vec2:add(i32 dx = 0, i32 dy = 0) void {
    self.x = self.x + dx
    self.y = self.y + dy
}

// Method with mixed parameters
fn Vec2:scale(i32 factor, i32 offset = 0) void {
    self.x = self.x * factor + offset
    self.y = self.y * factor + offset
}

fn main() i32 {
    mut Vec2 v = Vec2 { x: 5, y: 10 }

    // Call with defaults
    v:add()  // No change: 5, 10

    // Call with one named parameter
    v:add(dx: 5)  // x becomes 10, y stays 10

    // Call with both named parameters
    v:add(dy: 5, dx: 0)  // x stays 10, y becomes 15

    // Call with positional and default
    v:scale(2)  // x = 20, y = 30

    // Call with positional and named
    v:scale(1, offset: 10)  // x = 30, y = 40

    return v.y - 40
}
