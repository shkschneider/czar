// Test basic string functionality
fn main() i32 {
    // Test heap-allocated string (returns pointer)
    string* s1 = new string "Hello, World!"
    
    // Test stack-allocated string (value)
    string s2 = string "Stack String"
    
    // Access string fields
    i32 len1 = s1.length
    i32 cap1 = s1.capacity
    i32 len2 = s2.length
    i32 cap2 = s2.capacity
    
    // Get C-style string
    print(s1.cstr())
    print(s2.cstr())
    
    // Verify lengths
    if len1 != 13 {
        return 1
    }
    if len2 != 12 {
        return 2
    }
    
    // Verify capacities are reasonable
    if cap1 < len1 {
        return 3
    }
    if cap2 < len2 {
        return 4
    }
    
    free s1
    return 0
}
