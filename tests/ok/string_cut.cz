// Test String:cut() method
fn main() i32 {
    String s = String { "Hello,World,Test" }
    String sep = String { "," }

    // Cut at first separator
    String? result = s:cut(sep)

    if result.length != 5 {
        free result
        return 1
    }

    // Verify content is "Hello"
    String expected = String { "Hello" }
    i32 match = result:prefix(expected)

    free result

    if match != 1 {
        return 2
    }

    // Test when separator not found (should return copy of entire String)
    String s2 = String { "NoSeparator" }
    String sep2 = String { "," }
    String? result2 = s2:cut(sep2)

    if result2.length != 11 {
        free result2
        return 3
    }

    free result2
    return 0
}
