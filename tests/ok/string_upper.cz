// Test String:upper() method
fn main() i32 {
    String? s = new String { "Hello World" }

    // Convert to uppercase
    s:upper()

    // Check length is unchanged
    if s.length != 11 {
        free s
        return 1
    }

    // Verify content is "HELLO WORLD"
    String expected = String { "HELLO WORLD" }
    i32 match = s:prefix(expected)

    free s

    if match != 1 {
        return 2
    }

    return 0
}
