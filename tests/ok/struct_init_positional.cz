// Test comprehensive positional and named struct initialization
struct Point {
    i32 x
    i32 y
}

struct Color {
    i32 r
    i32 g
    i32 b
}

fn main() i32 {
    // Test 1: Stack allocation with named fields
    Point p1 = Point { x: 10, y: 20 }
    
    // Test 2: Stack allocation with positional fields
    Point p2 = Point { 30, 40 }
    
    // Test 3: Heap allocation with named fields
    Point? p3 = new Point { x: 50, y: 60 }
    
    // Test 4: Heap allocation with positional fields
    Point? p4 = new Point { 70, 80 }
    
    // Test 5: Empty initialization
    Point p5 = Point {}
    
    // Test 6: Multiple fields positional
    Color c1 = Color { 255, 128, 64 }
    
    // Test 7: Multiple fields named
    Color c2 = Color { r: 100, g: 200, b: 150 }
    
    mut i32 sum = p1.x + p1.y + p2.x + p2.y + p3.x + p3.y + p4.x + p4.y + p5.x + p5.y
    sum = sum + c1.r + c1.g + c1.b + c2.r + c2.g + c2.b
    
    free p3
    free p4
    
    // Expected: 10+20+30+40+50+60+70+80+0+0+255+128+64+100+200+150 = 1257
    return sum - 1257
}
