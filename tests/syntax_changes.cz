// Comprehensive test of all syntax changes
// Tests: and, or, underscore in numbers, single ! for null check

struct Node {
    i32 value
}

fn main() -> i32 {
    // Test 1: 'and' keyword for logical AND
    i32 a = 10
    i32 b = 20
    bool test1 = a < b and b < 30  // true

    // Test 2: 'or' keyword for logical OR
    bool test2 = a == 5 or a == 10  // true

    // Test 3: Simplified null coalescing
    Node* null_ptr = null
    Node* valid_ptr = new Node { value: 50 }
    Node* result = valid_ptr  // Simplified from: null_ptr or valid_ptr

    // Test 4: Underscore in numbers
    i32 thousand = 1_000
    i32 million = 1_000_000
    i32 with_underscores = 1_2_3_4

    // Test 5: Single ! for null check
    Node* checked = valid_ptr!  // Should succeed

    // Test 6: Direct field access (no ?. operator)
    i32 value_from_result = result.value  // Direct access

    // Calculate return value
    mut i32 ret = 0
    if test1 and test2 {
        ret = ret + 10
    }
    if thousand == 1000 {
        ret = ret + 10
    }
    if million == 1000000 {
        ret = ret + 10
    }
    if with_underscores == 1234 {
        ret = ret + 10
    }
    if value_from_result == 50 {
        ret = ret + 10
    }

    return ret - 50
}
