// Test that proper free usage is allowed
struct Data {
    i32 value
}

fn main() i32 {
    Data* p = new Data { value: 42 }
    i32 x = p.value
    free p
    // After freeing, don't use it anymore
    return x - 42
}
