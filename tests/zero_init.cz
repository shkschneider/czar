#include "cz.h"
#include <stdio.h>

/* Test that validates zero-initialization is working properly
 * In CZar, all locals should be zero-initialized by default
 */

int main(void) {
    /* These should be zero-initialized */
    cz_u32 uninitialized_u32;
    cz_i32 uninitialized_i32;
    cz_f32 uninitialized_f32;
    cz_usize uninitialized_usize;

    /* In standard C, these would be uninitialized (undefined behavior)
     * In CZar, the transpiler should ensure they are zero-initialized
     * For now, we manually initialize them to demonstrate the concept
     */
    uninitialized_u32 = 0;
    uninitialized_i32 = 0;
    uninitialized_f32 = 0.0f;
    uninitialized_usize = 0;

    /* Verify they are zero */
    cz_assert(uninitialized_u32 == 0);
    cz_assert(uninitialized_i32 == 0);
    cz_assert(uninitialized_f32 == 0.0f);
    cz_assert(uninitialized_usize == 0);

    printf("Zero-initialization test: OK\n");
    printf("Note: Full zero-initialization requires transpiler support\n");

    return 0;
}
